{"version":3,"file":"view.js","mappings":"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","sources":["webpack://imageallery/external module \"@wordpress/interactivity\"","webpack://imageallery/webpack/bootstrap","webpack://imageallery/webpack/runtime/make namespace object","webpack://imageallery/./src/view.js"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { store, getContext } from '@wordpress/interactivity';\n\n// Define the store and actions for product filter\nstore( 'productfilter', {\n\tstate: {\n\t\tselectedCategories: [], // Initialize selectedCategories in the state\n\t\tproducts: [], // Initialize products in the state\n\t},\n\tactions: {\n\t\t// Toggle category on click\n\t\ttoggleCategory: function ( event ) {\n\t\t\tconst category = event.target.dataset.category; // Get the category directly from the data-category attribute\n\t\t\tconst context = getContext(); // Get the current context (state)\n\n\t\t\tif ( ! context ) {\n\t\t\t\tconsole.error( 'Context is undefined' );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Ensure selectedCategories is initialized as an empty array if it doesn't exist\n\t\t\tcontext.selectedCategories = context.selectedCategories || [];\n\t\t\tcontext.products = context.products || [];\n\n\t\t\t// Check if category is selected, add or remove it from selectedCategories\n\t\t\tconst index = context.selectedCategories.indexOf( category );\n\t\t\tif ( index === -1 ) {\n\t\t\t\tcontext.selectedCategories.push( category ); // Add category\n\t\t\t} else {\n\t\t\t\tcontext.selectedCategories.splice( index, 1 ); // Remove category\n\t\t\t}\n\n\t\t\tconsole.log(\n\t\t\t\t'Updated Selected Categories:',\n\t\t\t\tcontext.selectedCategories\n\t\t\t);\n\n\t\t\t// After updating the selected categories, render the filtered products\n\t\t\trenderFilteredProducts(\n\t\t\t\tcontext.products,\n\t\t\t\tcontext.selectedCategories\n\t\t\t); // Call the standalone function\n\t\t},\n\t},\n} );\n\n// Standalone function to render filtered products\nfunction renderFilteredProducts( products, selectedCategories ) {\n\tconst productListContainer = document.querySelector( '.product-list' ); // Select the first matching element\n\n\tif ( ! productListContainer ) {\n\t\tconsole.error( 'Product list container not found' );\n\t\treturn; // Exit if no container is found\n\t}\n\n\tproductListContainer.innerHTML = ''; // Clear previous list\n\n\t// Filter products by selected categories\n\tconst filteredProducts = products.filter(\n\t\t( product ) =>\n\t\t\tselectedCategories.length === 0 ||\n\t\t\tselectedCategories.includes( product.category )\n\t);\n\n\t// Render each filtered product with the modern styles\n\tfilteredProducts.forEach( ( product ) => {\n\t\tconsole.log( product ); // Log the product for debugging\n\n\t\t// Create the product item element\n\t\tconst productElement = document.createElement( 'div' );\n\t\tproductElement.classList.add( 'product-item' ); // Apply the 'product-item' class\n\n\t\t// Set the HTML content of the product item\n\t\tproductElement.innerHTML = `\n            <div class=\"product-card\"> <!-- Apply the 'product-card' class -->\n                <img src=\"${ product.imageUrl }\" alt=\"${ product.name }\" class=\"product-image\" /> <!-- Apply the 'product-image' class -->\n                <h3 class=\"product-name\"><a href=\"${ product.permalink }\">${ product.name }</a></h3> <!-- Apply the 'product-name' class -->\n                <p class=\"product-category\">Category: ${ product.category }</p> <!-- Apply the 'product-category' class -->\n                <a href=\"${ product.permalink }\" class=\"view-details-button\">View Details</a> <!-- Apply the 'view-details-button' class -->\n            </div>\n        `;\n\n\t\t// Append the product item to the product list container\n\t\tproductListContainer.appendChild( productElement );\n\t} );\n}\n"],"names":["store","getContext","state","selectedCategories","products","actions","toggleCategory","event","category","target","dataset","context","console","error","index","indexOf","push","splice","log","renderFilteredProducts","productListContainer","document","querySelector","innerHTML","filteredProducts","filter","product","length","includes","forEach","productElement","createElement","classList","add","imageUrl","name","permalink","appendChild"],"sourceRoot":""}